
$ ./sfdata
usage: sfdata <command> [--boolean-flag] [--parameter=<value1>,<value2>,...]

Supported commands:

   purge            Supprime une partie des données compactées
   check            Vérifie la validité d'un batch avant son importation
   pruneEntities    Compte/supprime les entités hors périmètre
   import           Importe des fichiers
   validate         Liste les entrées de données invalides
   compact          Compacte la base de données
   reduce           Calcule les variables destinées à la prédiction
   public           Génère les données destinées au site web
   etablissements   Exporte la liste des établissements
   entreprises      Exporte la liste des entreprises

Error: You must pass a command
---
$ ./sfdata --help
Usage:
	sfdata [FLAG|SET]...

Flags:
	-h, --help    show help (type: bool)
	-v, --verbose show verbose help (type: bool)

Sets:
	purge         Supprime une partie des données compactées
	check         Vérifie la validité d'un batch avant son importation
---
$ ./sfdata purge
Supprime une partie des données compactées

Usage:
	purge [FLAG]...

Description:
	/!\ ce traitement est destructif et irréversible /!\
	Supprime les données dans les objets de la collection RawData pour les batches suivant le numéro de batch donné.
	La propriété "debugForKey" permet de traiter une entreprise en fournissant son siren, le résultat n'impacte pas la collection RawData mais est déversé dans purgeBatch_debug à des fins de vérifications.
	Lorsque "key" n'est pas fourni, le traitement s'exécute sur l'ensemble de la base, et dans ce cas la propriété IUnderstandWhatImDoing doit être fournie à la valeur "true" sans quoi le traitement refusera de se lancer.
	Répond "ok" dans la sortie standard, si le traitement s'est bien déroulé.
	/!\ ce traitement est destructif et irréversible /!\

Flags:
	--since-batch batch_key  (type: string)
		Identifiant du batch à partir duquel supprimer les données (ex: 1802, pour Février 2018)
	-key                     (type: string)
	--i-understand-what-im-doing (type: bool)
		Nécessaire pour confirmer la suppression de données

paramètre `since-batch` obligatoire
---
$ ./sfdata check
Vérifie la validité d'un batch avant son importation

Usage:
	check [FLAG]...

Description:
	Vérifie la validité du batch sur le point d'être importé et des fichiers qui le constituent.
	Pour exécuter tous les parsers, il faut ne pas spécifier la propriété parsers ou lui donner la valeur null.
	Répond avec un propriété JSON "reports" qui contient les rapports textuels de parsing de chaque fichier.

Flags:
	--batch batch_key (type: string)
		Identifiant du batch à vérifier (ex: 1802, pour Février 2018)
	--parsers         (type: []string)
		Parseurs à employer (ex: altares,cotisation)

paramètre `batch` obligatoire
---
